<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Manage Users</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav> th:replace="~{layout/base :: navbar}"><nav>
    <div class="container mt-5">
      <h2 class="mb-4">Danh Sách Người Dùng</h2>
      <table class="table table-bordered table-striped">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Tên Người Dùng</th>
            <th>Email</th>
            <th>Vai Trò</th>
            <th>SĐT</th>
            <th>Địa chỉ</th>
            <th>Hành Động</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="user : ${users}">
            <td th:text="${user.id}"></td>
            <td th:text="${user.username}"></td>
            <td th:text="${user.email}"></td>
            <td th:text="${user.role != null ? user.role : 'Chưa có'}"></td>
            <!-- Xử lý null cho vai trò -->
            <td
              th:text="${user.phone_number != null ? user.phone_number : 'Chưa có'}"
            ></td>
            <!-- Xử lý null cho SĐT -->
            <td
              th:text="${user.address != null ? user.address : 'Chưa có'}"
            ></td>
            <!-- Xử lý null cho Địa chỉ -->
            <td>
              <a
                th:href="@{/admin/users/edit/{id}(id=${user.id})}"
                class="btn btn-primary btn-sm"
                >Sửa</a
              >
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
